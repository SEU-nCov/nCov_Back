<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.ncovback.mapper.NatResultMapper">
    <select id="getNatResultbyid" parameterType="com.example.ncovback.entity.User" resultType="com.example.ncovback.entity.NatResult">
        select tb_natres.*,tb_natpoint.nat_pointname,tb_user.user_name
        from tb_natres ,tb_natpoint ,tb_user
        where tb_natres.nat_pointid=tb_natpoint.nat_pointid and tb_natres.user_id=#{user_id} and tb_user.user_id=tb_natres.user_id and tb_natres.nat_result is not null
        order by tb_natres.nat_time desc
    </select>
    <insert id="sampleInput" parameterType="com.example.ncovback.entity.NatResult">
        insert into tb_natres (user_id,nat_pointid,nat_time,tube_id)
        values (#{user_id},#{nat_pointid},NOW(),#{tube_id});
    </insert>
    <update id="natResultInput" parameterType="com.example.ncovback.entity.NatResult">
        update tb_natres set nat_peopleid=#{nat_peopleid},nat_result=#{nat_result} where tube_id=#{tube_id}
    </update>
</mapper>